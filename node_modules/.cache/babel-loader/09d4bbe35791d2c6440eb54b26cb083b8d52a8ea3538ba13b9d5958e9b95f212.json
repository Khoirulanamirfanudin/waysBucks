{"ast":null,"code":"var _jsxFileName = \"/Users/yusufadinata/Documents/WaysBucks/client/src/components/ModalProfile.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useMutation } from \"react-query\";\nimport { API } from \"../../config/api\";\nimport paperClip from \"../../assets/paperClip.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ModalProfile(_ref) {\n  _s();\n  let {\n    refetch\n  } = _ref;\n  const [show, setShow] = useState(false);\n  const handleShow = () => setShow(true);\n  const handleClose = () => setShow(false);\n  const [form, setForm] = useState({\n    address: \"\",\n    postal_code: \"\",\n    image: \"\"\n  });\n  const [previewName, setPreviewName] = useState(\"\"); //name\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value\n    });\n    // Create image url for preview\n    if (e.target.type === \"file\") {\n      setPreviewName(e.target.files[0].name);\n    }\n  };\n  const handleSubmit = useMutation(async e => {\n    try {\n      e.preventDefault();\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      };\n      const formData = new FormData();\n      formData.set(\"image\", form.image[0], form.image[0].name);\n      formData.set(\"address\", form.address);\n      formData.set(\"postal_code\", form.postal_code);\n      await API.patch(\"/profile\", formData, config);\n      setShow(false);\n      refetch();\n    } catch (error) {\n      console.log(error);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btnProfile login mb-2\",\n      onClick: handleShow,\n      children: \"Edit Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit.mutate(e),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"authContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"authTitle\",\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"inputAuth p-2\",\n            placeholder: \"Address\",\n            name: \"address\",\n            id: \"address\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"inputAuth p-2\",\n            placeholder: \"Postal Code\",\n            name: \"postal_code\",\n            id: \"postalcode\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"image\",\n            id: \"addProductImage\",\n            hidden: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"addProductImage\",\n            className: previewName === \"\" ? \"addProfileImage\" : \"previewPhoto\",\n            children: [previewName === \"\" ? \"Photo Product\" : previewName, /*#__PURE__*/_jsxDEV(\"img\", {\n              src: paperClip,\n              alt: \"paperClip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnAuth mb-4\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ModalProfile, \"diZPyZ1Rd/8rno1tkFerKegKG2U=\", false, function () {\n  return [useMutation];\n});\n_c = ModalProfile;\nvar _c;\n$RefreshReg$(_c, \"ModalProfile\");","map":{"version":3,"names":["React","useState","Modal","useMutation","API","paperClip","ModalProfile","refetch","show","setShow","handleShow","handleClose","form","setForm","address","postal_code","image","previewName","setPreviewName","handleChange","e","target","name","type","files","value","handleSubmit","preventDefault","config","headers","formData","FormData","set","patch","error","console","log","mutate"],"sources":["/Users/yusufadinata/Documents/WaysBucks/client/src/components/ModalProfile.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { useMutation } from \"react-query\";\nimport { API } from \"../../config/api\";\nimport paperClip from \"../../assets/paperClip.png\";\n\nexport default function ModalProfile({ refetch }) {\n  const [show, setShow] = useState(false);\n  const handleShow = () => setShow(true);\n  const handleClose = () => setShow(false);\n\n  const [form, setForm] = useState({\n    address: \"\",\n    postal_code: \"\",\n    image: \"\",\n  });\n\n  const [previewName, setPreviewName] = useState(\"\"); //name\n  const handleChange = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]:\n        e.target.type === \"file\" ? e.target.files : e.target.value,\n    });\n    // Create image url for preview\n    if (e.target.type === \"file\") {\n      setPreviewName(e.target.files[0].name);\n    }\n  };\n\n  const handleSubmit = useMutation(async (e) => {\n    try {\n      e.preventDefault();\n\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n\n      const formData = new FormData();\n      formData.set(\"image\", form.image[0], form.image[0].name);\n      formData.set(\"address\", form.address);\n      formData.set(\"postal_code\", form.postal_code);\n\n      await API.patch(\"/profile\", formData, config);\n\n      setShow(false);\n      refetch();\n    } catch (error) {\n      console.log(error);\n    }\n  });\n  return (\n    <>\n      <button className=\"btnProfile login mb-2\" onClick={handleShow}>\n        Edit Profile\n      </button>\n      <Modal show={show} onHide={handleClose}>\n        <form onSubmit={(e) => handleSubmit.mutate(e)}>\n          <div className=\"authContainer\">\n            <h1 className=\"authTitle\">Edit Profile</h1>\n            <input\n              type=\"text\"\n              className=\"inputAuth p-2\"\n              placeholder=\"Address\"\n              name=\"address\"\n              id=\"address\"\n              onChange={handleChange}\n            />\n            <input\n              type=\"number\"\n              className=\"inputAuth p-2\"\n              placeholder=\"Postal Code\"\n              name=\"postal_code\"\n              id=\"postalcode\"\n              onChange={handleChange}\n            />\n            <input\n              type=\"file\"\n              name=\"image\"\n              id=\"addProductImage\"\n              hidden\n              onChange={handleChange}\n            />\n            <label\n              htmlFor=\"addProductImage\"\n              className={\n                previewName === \"\" ? \"addProfileImage\" : \"previewPhoto\"\n              }\n            >\n              {previewName === \"\" ? \"Photo Product\" : previewName}\n              <img src={paperClip} alt=\"paperClip\" />\n            </label>\n\n            <button className=\"btnAuth mb-4\">Submit</button>\n          </div>\n        </form>\n      </Modal>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}